name: Testingggg
on:
  push:
    branches:
      - AN-5950/slack-alerts-eth # Replace with your actual branch name

jobs:
  test-failure:
    runs-on: ubuntu-latest
    steps:
      - name: Intentionally fail
        run: exit 1

  notify-on-failure:
    needs: test-failure
    if: failure()
    uses: ./.github/workflows/slack_notify.yml
    with:
      job_name: ${{ github.job }}
      error_step: ${{ github.workflow }}
      run_url: ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}
    secrets:
      SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
