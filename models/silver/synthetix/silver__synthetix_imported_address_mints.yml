version: 2
models:
  - name: silver__synthetix_imported_address_mints
    columns:
      - name: BLOCK_NUMBER
        description: '{{ doc("eth_block_number") }}'
        tests:
          - not_null
      - name: BLOCK_TIMESTAMP
        description: '{{ doc("eth_block_timestamp") }}'
        tests:
          - not_null
      - name: TX_HASH
        description: '{{ doc("eth_logs_tx_hash") }}'
        tests:
          - not_null
      - name: WALLET_ADDRESS
        description: 'Wallet / contract address holding SNX/SDS.'
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_match_regex:
              regex: 0[xX][0-9a-fA-F]+
      - name: WALLET_TX_HASH
        description: Concatenation of the wallet and transaction hash to create unique ID for table
        tests:
          - not_null
          - unique
      - name: MINTED_AMOUNT
        description: Amount of sUSD created by locking SNX as collateral (staking), which increases yor active debt.
        tests:
      - name: LOGS_TIMESTAMP
        description: _inserted_timestamp from the logs table. Used for incremental load.
      - name: TRACES_TIMESTAMP
        description: _inserted_timestamp from the traces table. Used for incremental load.
